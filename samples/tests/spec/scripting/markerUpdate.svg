<?xml-stylesheet type="text/css" href="../../resources/style/test.css" ?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="body" width="450" height="500" viewBox="0 0 450 500"><title>Marker with geometry updates</title><text x="50%" y="25" class="title">Marker with geometry and property updates. <tspan x="50%" dy="1.1em" style="font-style:italic;font-size:12">(click on shapes or run button)</tspan></text><script type="text/ecmascript">var svgNamespaceURI = &quot;http://www.w3.org/2000/svg&quot;; var stroke = document.getElementById(&quot;stroke&quot;); var userspace = document.getElementById(&quot;userspace&quot;); var start = document.getElementById(&quot;start&quot;); var mid = document.getElementById(&quot;mid&quot;); var end = document.getElementById(&quot;end&quot;); var all = document.getElementById(&quot;all&quot;); function changeGeometryEvt(evt) { changeGeometry(evt.target); } function changeGeometry(tgt) { tgt.setAttribute(&quot;points&quot;, &quot;130 150 150 170 110 190 150 210 110 230 150 250 110 270 150 290 110 310 150 330 110 350 130 370&quot;); } function changeMarkerStartEvt(evt) { changeMarkerStart(evt.target); } function changeMarkerStart(tgt) { changeProperty(tgt, &quot;marker-start&quot;, &quot;url(#markerRed)&quot;); } function changeMarkerMidEvt(evt) { changeMarkerMid(evt.target); } function changeMarkerMid(tgt) { changeProperty(tgt, &quot;marker-mid&quot;, &quot;url(#markerRed)&quot;); } function changeMarkerEndEvt(evt) { changeMarkerEnd(evt.target); } function changeMarkerEnd(tgt) { changeProperty(tgt, &quot;marker-end&quot;, &quot;url(#markerRed)&quot;); } function changeMarkerEvt(evt) { changeMarker(evt.target); } function changeMarker(tgt) { changeProperty(tgt, &quot;marker&quot;, &quot;url(#markerRed)&quot;); } function changeProperty(tgt, prop, val) { tgt.style.setProperty(prop, val, &quot;&quot;); } function run() { changeGeometry(stroke); changeGeometry(userspace); changeMarkerStart(start); changeMarkerMid(mid); changeMarkerEnd(end); changeMarker(all); } function regardStart() { run(); setTimeout(&quot;regardTestInstance.scriptDone()&quot;, 100); }</script><defs><marker id="markerUserSpaceOnUse" markerHeight="16" markerUnits="userSpaceOnUse" markerWidth="16" refX="8" refY="8"><circle cx="8" cy="8" r="8" style="fill:#aaa"/></marker><marker id="markerStrokeWidth" markerHeight="4" markerUnits="strokeWidth" markerWidth="4" refX="2" refY="2"><circle cx="2" cy="2" r="2" style="fill:#aaa"/></marker><marker id="markerRed" markerHeight="4" markerUnits="strokeWidth" markerWidth="4" refX="2" refY="2"><circle cx="2" cy="2" r="2" style="fill:#a44"/></marker></defs><g id="test-content" transform="translate(0, -20)"><g id="board" style="fill:none;stroke:#000"><rect width="65" height="20" x="40" y="80" style="fill:#eee"/><rect width="65" height="20" x="105" y="80" style="fill:#eee"/><rect width="65" height="20" x="170" y="80" style="fill:#eee"/><rect width="65" height="20" x="235" y="80" style="fill:#eee"/><rect width="65" height="20" x="300" y="80" style="fill:#eee"/><rect width="65" height="20" x="365" y="80" style="fill:#eee"/><rect width="20" height="380" x="20" y="100" style="fill:#eee"/><rect width="65" height="380" x="40" y="100"/><rect width="65" height="380" x="105" y="100"/><rect width="65" height="380" x="170" y="100"/><rect width="65" height="380" x="235" y="100"/><rect width="65" height="380" x="300" y="100"/><rect width="65" height="380" x="365" y="100"/><g style="fill:#000;stroke:none;text-anchor:middle"><text x="72.5" y="94">strokeWidth</text><text x="137.5" y="94">userspace<desc>userSpaceOnUse</desc></text><text x="202.5" y="94">start</text><text x="267.5" y="94">mid</text><text x="332.5" y="94">end</text><text x="397.5" y="94">marker</text><text x="0" y="0" transform="translate(34 290)rotate(-90)">&lt;marker&gt;</text></g></g><polyline id="stroke" points="130 150 130 170 130 190 130 210 130 230 130 250 130 270 130 290 130 310 130 330 130 350 130 370" onclick="changeGeometryEvt(evt)" transform="translate(-55, 0)" style="stroke:#000;stroke-width:4;fill:none;marker:url(#markerStrokeWidth)"/><polyline id="userspace" points="130 150 130 170 130 190 130 210 130 230 130 250 130 270 130 290 130 310 130 330 130 350 130 370" onclick="changeGeometryEvt(evt)" transform="translate(10 0)" style="stroke:#000;stroke-width:4;fill:none;marker:url(#markerUserSpaceOnUse)"/><polyline id="start" points="130 150 110 170 150 190 110 210 150 230 110 250 150 270 110 290 150 310 110 330 150 350 130 370" onclick="changeMarkerStartEvt(evt)" transform="translate(75 0)" style="stroke:#000;stroke-width:4;fill:none;marker:url(#markerUserSpaceOnUse)"/><polyline id="mid" points="130 150 110 170 150 190 110 210 150 230 110 250 150 270 110 290 150 310 110 330 150 350 130 370" onclick="changeMarkerMidEvt(evt)" transform="translate(140 0)" style="stroke:#000;stroke-width:4;fill:none;marker:url(#markerUserSpaceOnUse)"/><polyline id="end" points="130 150 110 170 150 190 110 210 150 230 110 250 150 270 110 290 150 310 110 330 150 350 130 370" onclick="changeMarkerEndEvt(evt)" transform="translate(205 0)" style="stroke:#000;stroke-width:4;fill:none;marker:url(#markerUserSpaceOnUse)"/><polyline id="all" points="130 150 110 170 150 190 110 210 150 230 110 250 150 270 110 290 150 310 110 330 150 350 130 370" onclick="changeMarkerEvt(evt)" transform="translate(270 0)" style="stroke:#000;stroke-width:4;fill:none;marker:url(#markerUserSpaceOnUse)"/></g><g id="run" cursor="pointer" onclick="run()" transform="translate(195, 468)"><rect width="60" height="25" fill="#eee" stroke="#000" rx="5" ry="5"/><text x="30" y="18" font-size="14" font-weight="bold" text-anchor="middle">Run</text></g></svg>