<?xml-stylesheet type="text/css" href="../../resources/style/test.css" ?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="body" width="450" height="500" viewBox="0 0 450 500"><script language="text/ecmascript"><![CDATA[
  var root = document.getRootElement();

  function adjust1 () {
    // Ensure we can add event attr.
    root.setAttributeNS(null, "onzoom", "setRect('a', 'lightblue')");
    root.currentScale = 1.1;
    setTimeout(adjust2, 500);
  }

  function adjust2() {
    // Ensure we can modify event attr.
    root.setAttributeNS(null, "onzoom", "setRect('b', 'lightblue')");
    root.currentScale = 1.0;
    setTimeout(adjust3, 500);
  }

  function adjust3() {
    // Part 1 ensure we can remove event attr.
    root.setAttributeNS(null, "onzoom", "setRect('c', 'lightblue')");
    root.currentScale = 1.1;
    setTimeout(adjust4, 500);
  }

  function adjust4() {
    // Part 2 ensure we can remove event attr.
    root.removeAttributeNS(null, "onzoom");
    setRect('c', 'gold');  // It should stay gold.
    root.currentScale = 1.0;
    if (inRegard) {
      setTimeout(done, 500);
    }
  }

  function done() {
      regardTestInstance.scriptDone();
  }

  function setRect(id, color) {
    var elem = document.getElementById(id);
    elem.setAttributeNS(null, "fill", color);
  }

  var inRegard  = false;
  function regardStart() {
    inRegard = true;
    adjust1();
  }
]]></script><title>Addtion/Modification/Removal of event attributes.</title><text x="50%" y="40" class="title" text-anchor="middle">Addtion/Modification/Removal of event attributes.</text><text x="50%" y="55" text-anchor="middle">Click Rect to start test</text><g id="test-content" onclick="adjust1()" text-anchor="middle"><rect id="a" width="250" height="50" x="50" y="100" fill="#dc143c"/><rect width="25" height="50" x="310" y="100" fill="#add8e6"/><text x="175" y="130">Event Attr Add</text><rect id="b" width="250" height="50" x="50" y="175" fill="#dc143c"/><rect width="25" height="50" x="310" y="175" fill="#add8e6"/><text x="175" y="205">Event Attr Modify</text><rect id="c" width="250" height="50" x="50" y="250" fill="#dc143c"/><rect width="25" height="50" x="310" y="250" fill="gold"/><text x="175" y="285">Event Attr Remove</text></g></svg>