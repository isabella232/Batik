<?xml-stylesheet type="text/css" href="../../resources/style/test.css" ?><svg id="body" width="450" height="500" viewBox="0 0 450 500"><title>&lt;tspan&gt; children &apos;onload&apos;</title><text x="50%" y="45" class="title">&lt;tspan&gt; children in &apos;onload&apos;</text><script type="text/ecmascript"><![CDATA[
    function addText(evt){
        insertText(evt,'the quick ','tspan1');
        appendText(evt,'fox');
    }

    function addCDATAText(evt){
        insertCDATAText(evt,'the quick ','tspan2');
        appendCDATAText(evt,'fox');
    }

    function insertText(evt,text,nextsiblingID) {

        var elt = evt.target;
        var doc = elt.getOwnerDocument();

        var next = doc.getElementById(nextsiblingID);

        var textnode = doc.createTextNode(text);

        elt.insertBefore(textnode,next);
    }

    function insertCDATAText(evt,text,nextsiblingID) {

        var elt = evt.target;
        var doc = elt.getOwnerDocument();

        var next = doc.getElementById(nextsiblingID);

        var textnode = doc.createCDATASection(text);

        elt.insertBefore(textnode,next);
    }

    function appendText(evt, text){
        var elt = evt.target;
        var doc = elt.getOwnerDocument();

        var textnode = doc.createTextNode(text);

        elt.appendChild(textnode);
    }

    function appendCDATAText(evt, text){
        var elt = evt.target;
        var doc = elt.getOwnerDocument();

        var textnode = doc.createCDATASection(text);

        elt.appendChild(textnode);
    }

    function removeText(evt) {
        var elt = evt.target;

        while ( elt.hasChildNodes() ){

           var child = elt.getFirstChild();

           elt.removeChild( child )
        }
    }
    
    ]]></script><g id="test-content"><g style="font-size:40"><text><tspan x="70" y="335" onload="removeText(evt)" style="fill:gold">the quick brown fox</tspan></text><text><tspan x="70" y="375" onload="removeText(evt)" style="fill:gold"><![CDATA[
            the quick brown fox
          ]]></tspan></text></g><g style="stroke:#000;fill:none;stroke-width:1;font-size:40"><text><tspan x="70" y="135">the quick <tspan>brown</tspan> fox</tspan></text><text><tspan x="70" y="175">the quick <tspan>brown</tspan> fox</tspan></text><text><tspan x="70" y="335">the quick brown fox</tspan></text><text><tspan x="70" y="375">the quick brown fox</tspan></text></g><g style="fill:#000;stroke:none;text-anchor:middle"><text x="225" y="230">insert nodes <tspan style="font-size:8">( TEXT_NODE and CDATA_SECTION_NODE )</tspan></text><text x="225" y="430">remove nodes <tspan style="font-size:8">( TEXT_NODE and CDATA_SECTION_NODE )</tspan></text></g></g></svg>